<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition  xmlns="http://www.w3.org/1999/xhtml" 
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="master.xhtml">

    <ui:define name="content">
        
         <script type="text/javascript">
            function validate() {
                var pwd1 = $("#password").val();
                var pwd2 = $("#password2").val();
                if (pwd1 != pwd2) {
                    alert("Sorry! Passwords do not match!");
                    $("#password2").focus();
                    return false;
                }
                return true;
            }
        </script>
        <h:form  prependId="false" onsubmit='return validate()'>
            <h2>Change Password </h2>
                Old Password 
                <br/>
                <h:inputSecret  id="oldPassword" value="#{userBean.oldPassword}" p:required="required"  />
                <p/>
                New Password 
                <br/>
                <h:inputSecret  id="password" value="#{userBean.password}"  p:required="required"  />
                <p/>
                Confirm  Password 
                <br/>
                <h:inputSecret  id="password2"   p:required="required"  />

                <p/>
                <h:commandButton  value="Submit" actionListener="#{userBean.changePassword}" />
                <p/>
                <h:outputText value="#{userBean.message}" />
        </h:form>
    </ui:define>

</ui:composition>
